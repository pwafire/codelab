
<!doctype html>
<!-- https://pwafire.org/developer 2018 
-->
<html lang="en">
     <head>
     <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-113005114-1"></script>
    <script>
     window.dataLayer = window.dataLayer || [];
     function gtag(){dataLayer.push(arguments);}
     gtag('js', new Date());

     gtag('config', 'UA-113005114-1');
     </script>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0">
    <title>PWA Fire Codelabs - How to use PWA Fire Bundle - PWA Fire Developer</title>
    <meta name="description" content="In this codelab we are going to convert our demo site into a Progressive Web App. Make sure to follow all the steps as documented.">
    <meta name="twitter:image" content="https://pwafire.org/images/codelabs/pwafirebanner.gif">
    <!-- web manifest -->
    <link rel="manifest" href="https://pwafire.org/manifest.json">
    <link rel="icon" sizes="192x192" href="https://pwafire.org/developer/images/icons/icon-192x192.png">
    <!-- Fallback to homescreen for Chrome <39 on Android -->
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="application-name" content="PWA Fire">
    <link rel="icon" sizes="192x192" href="https://pwafire.org/images/icons/icon-192x192.png">
    <!-- Add to homescreen for Safari on iOS -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="apple-mobile-web-app-title" content="PWA Fire">
    <link rel="apple-touch-icon" href="https://pwafire.org/images/icons/pwafire32white.png">
    <meta name="theme-color" content="#fff">
    <link rel="shortcut icon" sizes="32x32" href="https://pwafire.org/images/pwafire32white.png">
    <!-- codelab sharing meta data -->
    <meta property="og:title" content="PWA Fire Codelabs - Make Your PWA sharable with Web Share API">
    <meta property="og:site_name" content="PWA Fire Codelabs - Make Your PWA sharable with Web Share API">
    <meta property="og:type" content="website">
    <meta property="og:description" content="In this codelab you will learn how to use the Web Share API which allows you easily trigger the native Android share dialog, passing either a URL or text to share.">
    <meta property="og:image" content="https://pwafire.org/images/codelabs/pwafirebanner.gif">
    <meta property="og:image:type" content="image/png" />
    <meta name="theme-color" content="#fff">
    <!-- canonical url -->
    <link rel="canonical" href="http://pwafire.org/developer/codelabs/your-codelab-directory-name/">
    <!-- Page styles -->
    <link rel="stylesheet" href="https://pwafire.org/developer/pwa/assets/prism-default.css">
    <link rel="stylesheet" href="https://pwafire.org/developer/pwa/material.min.css">
    <link rel="stylesheet" href="https://pwafire.org/developer/pwa/assets/main.css">
    <!-- Fonts -->
    <link href='https://fonts.googleapis.com/css?family=Roboto:regular,bold,italic,thin,light,bolditalic,black,medium&amp;lang=en' rel='stylesheet' type='text/css'>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    </head>

  <body class="started">
  <div class="image-preloader"></div>
  <div class="docs-layout mdl-layout mdl-js-layout">
    <header class="docs-layout-header mdl-layout__header">
      <div class="mdl-layout__header-row">
        <span class="docs-layout-title mdl-layout-title"><a href="https://pwafire.org/developer/">Project<br>PWA<br>Fire</a></span>
      </div>
      <div class="docs-navigation__container">
        <nav class="docs-navigation mdl-navigation">
          <a href="#" class="mdl-navigation__link started">Start Codelab</a>
          <a href="" class="mdl-navigation__link codelab">Get Started</a>
          <a href="" class="mdl-navigation__link showcase">Showcase</a>
          <a href="https://twitter.com/pwafire" class="mdl-navigation__link ">Community</a>
          <a href="https://pwafire.org/developer/" class="mdl-navigation__link faq">FAQ</a>
          <a href="../" class="mdl-navigation__link ">Back</a>
          <div class="spacer"></div>
          <a href="https://github.com/mayeedwin/pwafire" class="mdl-navigation__link mdl-navigation__link--icon github"><i class="material-icons">link</i><span>GitHub</span></a>
          <a href="https://github.com/mayeedwin/pwafire/releases" class="mdl-navigation__link mdl-navigation__link--icon download">
          <i class="material-icons">&#xE2C4;</i><span>Download</span>
          <button class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--fab mdl-button--mini-fab mdl-color--lime-A200">
          <i class="material-icons">&#xE2C4;</i>
          </button>
          </a>
        </nav>
      </div>
      <i class="material-icons scrollindicator scrollindicator--right">&#xE315;</i>
      <i class="material-icons scrollindicator scrollindicator--left">&#xE314;</i>
    </header>
    <main class="docs-layout-content mdl-layout__content mdl-color-text--grey-600">
      <div class="content mdl-grid mdl-grid--no-spacing" id="content">
        <div class="subpageheader mdl-cell--12-col">Start codelab</div>
<div class="docs-text-styling">
  <section class="docs-toc">
    <h3>Codelab Flow</h3>
    <nav class="section-content">
      <ul>
        <li><a href="#download-profile">Download PWA Fire Profile</a></li>
        <li><a href="#download-pwafire">Download PWA Fire Bundle</a></li>
        <li><a href="#sw-register">Code to register the service worker</a></li>
        <li><a href="#use-web-manifest">Using the web manifest</a></li>
        <li><a href="#sw-config">Service Worker // service-worker.js config</a></li>
        <li><a href="#web-manifest-config">Web Manifest // manifest.json config</a></li>
        <li><a href="#firebase-hosting">Firebase Hosting</a></li>
        <li><a href="#whats-next">What's next?</a></li>
        <li><a href="#license">License</a></li>
      </ul>
    </nav>
  </section>

  <section id="download-profile">
    <h3>Download PWA Fire Profile</h3>
    <div class="section-content">
      <span class="mdl-chip mdl-chip--contact">
        <span class="mdl-chip__contact mdl-color--teal mdl-color-text--white">L</span>
        <span class="mdl-chip__text">Last updated on 17/06/18</span>
    </span>
    <span class="mdl-chip mdl-chip--contact">
        <span class="mdl-chip__contact mdl-color--teal mdl-color-text--white">P</span>
        <span class="mdl-chip__text">Progressive Web Apps</span>
    </span>
         
      
    <a href="https://twitter.com/MayeEdwin1" rel="noopener" target="_blank">
      <span class="mdl-chip mdl-chip--contact">
      <span class="mdl-chip__contact mdl-color--teal mdl-color-text--white">A</span>
      <span class="mdl-chip__text">Author, Maye Edwin</span>
      </span>
      </a>

      <p>
         We are going to convert this site into a Progressive Web App. Make sure to follow all the steps as documented later below. <b>Unzip</b> the downloaded file
         to your prefered location after <b>download.</b> If you have <b>Github Desktop,</b> simply <a href="https://github.com/mayeedwin/profile/fork" >Fork</a> and <a href="https://github.com/mayeedwin/profile/" target="_blank">clone</a> it.
      </p>

      <div class="download-button-container">
          <a href="https://github.com/mayeedwin/profile/releases">
            <button class="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect">
                    Download PWA Fire Profile
            </button>
          </a>
        </div>
        
    </div>
  </section>

  <section id="download-pwafire">
        <h3>Download PWA Fire Bundle</h3>
        <div class="section-content">
          <p>
             <b> Download</b> PWA Fire and from <b>pwafire-bundle</b> folder. Copy the <b>service-worker.js</b> and <b>manifest.json</b> files to the <b>Root folder</b> of <b><a href="https://github.com/mayeedwin/profile/fork" >PWA Fire Profile.</a></b> If prompted to replace the exsiting <b>service-worker.js</b> and <b>manifest.json</b> file, replace. Be sure to edit the service-worker.js and manifest.json file as in the guide provided below to fit your web app needs. 
          </p>
    
          <div class="download-button-container">
              <a href="https://github.com/mayeedwin/pwafire/archive/master.zip">
                <button class="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect">
                        Download PWA Fire 3.0
                </button>
              </a>
            </div>    
        </div>
      </section>

  <section id="sw-register">
    <h3>Code to register the service worker</h3>
    <div class="section-content">

        <p>This is the first step to making our web app work offline. Copy and paste this code to the <b>index file</b> just before the end of the body tag or in the head tag.</p>            
        <p><b>N/B : YOU NEED HTTPS</b> : We are going to use <a href="https://firebase.google.com/docs/hosting/deploying#section-hosting-setup" target="_blank">Firebase Hosting</a> later which shall have <b>HTTPS</b> already provisioned for our project.</p>

      <div class="mdl-tabs mdl-js-tabs">
          <div class="mdl-tabs__tab-bar">
            <a href="#tab1" class="mdl-tabs__tab is-active">Description</a>
            <a href="#tab2" class="mdl-tabs__tab">View Code</a>
            <a href="#tab3" class="mdl-tabs__tab">On Github</a>
           -
          </div>

          <div class="mdl-tabs__panel is-active" id="tab1">
              <div class="code-with-text">
              This code checks to see if the service worker API is available, and if it is, the service worker at /service-worker.js is registered once the page is loaded.
            </div>

        </div>

        <div class="mdl-tabs__panel" id="tab2">
            <div class="code-with-text">
                First, we need to check if the browser supports service workers, and if it does, register the service worker.
            </div>
      <pre class="language-markup"><code>
    &lt;!-- register service worker -->
        &lt;script>

          if ('serviceWorker' in navigator) 
          {
          window.addEventListener('load', function() {
            navigator.serviceWorker.register('/service-worker.js')
            .then(function() { console.log("Service Worker Registered, Cheers to PWA Fire!"); });
          }
          );
        }  
        &lt;/script> 
    &lt;!-- end of service worker --></code></pre>
          </div>
          <div class="mdl-tabs__panel is-active" id="tab3">
              <div class="code-with-text">
                <ul class="toc"> 
                    <a href="https://github.com/mayeedwin/pwafire/blob/c1ba3823bc71781ef3b319c39192658e875b0e55/configuration.html#L4-L19" target="_blank">Latest Commit</a>
                  </ul>
            </div>

        </div>

      </div>

  </section>

  <section id="use-web-manifest">
    <h3>Using the web manifest</h3>
    <div class="section-content">
      <p>
        We are going to add a link tag to all the pages that encompass our web app inside the head tag, as follows; For our case, we only have one page, the <b>index.html</b>. Add the following code to it.
      </p>
      <pre class="language-markup"><code>
      &lt;!-- start of web manifest -->
      &lt;link rel="manifest" href="/manifest.json">
      &lt;!-- end of web manifest --></code></pre>
    </div>
  </section>

  <section id="sw-config">
    <h3>Service Worker // service-worker.js config</h3>
    <div class="section-content">
      <p>
        <b>NOTE</b> :  The important thing to understand about the <b>Service Worker</b> is that you are in control of the network. You get to decide what is cached, how it is cached and how it should be returned to the user.
      </p>

     <div class="mdl-tabs mdl-js-tabs">
        <div class="mdl-tabs__tab-bar">
          <a href="#tab4" class="mdl-tabs__tab is-active">Description</a>
          <a href="#tab5" class="mdl-tabs__tab">View Code</a>
          <a href="#tab6" class="mdl-tabs__tab">On Github</a>
        </div>

        <div class="mdl-tabs__panel is-active" id="tab4">
        <div class="code-with-text">
            A service worker is a script that your browser runs in the background, separate from a web page, opening the door to features that don't need a web page or user interaction i.e offline capabilities, push nitification, add to homescreen, sharable etc
          </div>

      </div>
      <div class="mdl-tabs__panel" id="tab5">
          <div class="code-with-text">
            Follow the steps as commented in the code below in order to correctly configure the <b>service-worker.js</b> file.
          </div>
              <pre class="language-javascript">
                <code>
        // A project PWA Fire written. All writes reserved https://pwafire.org 2018.
        // Author : Maye Edwin https://maye.gdgmoi.com
                      
        // after a service worker is installed and the user navigates to a different page or 
        // refreshes,the service worker will begin to receive fetch events
                          
        self.addEventListener('fetch', function(event) {
        event.respondWith(caches.open('cache').then(function(cache) {
        return cache.match(event.request).then(function(response) {
        console.log("cache request: " + event.request.url);
        var fetchPromise = fetch(event.request).then(function(networkResponse) {           
        // if we got a response from the cache, update the cache                   
        console.log("fetch completed: " + event.request.url, networkResponse);
        if (networkResponse) {
            console.debug("updated cached page: " + event.request.url, networkResponse);
              cache.put(event.request, networkResponse.clone());}
              return networkResponse;
                  }, function (event) {   
        // rejected promise - just ignore it, we're offline!   
                  console.log("Error in fetch()", event);
                  event.waitUntil(
                  caches.open('cache').then(function(cache) { 
        // our cache is named *cache* in the caches.open() above
                  return cache.addAll
                  ([            
        //cache.addAll(), takes a list of URLs, then fetches them from the server
        // and adds the response to the cache.           
        // add your entire site to the cache- as in the code below; for offline access
        // If you have some build process for your site, perhaps that could 
        // generate the list of possible URLs that a user might load.               
                '/', // do not remove this
                '/index.html', //default
                '/index.html?homescreen=1', //default
                '/?homescreen=1', //default
                '/assets/css/main.css',// configure as by your site ; just an example
                '/images/*',// choose images to keep offline; just an example
        // Do not replace/delete/edit the service-worker.js/ and manifest.js paths below
                '/service-worker.js',
                '/manifest.js',
        //These are links to the extenal social media buttons that should be cached;
        // we have used twitter's as an example
              'https://platform.twitter.com/widgets.js',       
                ]);
                })
                );
                });
        // respond from the cache, or the network
          return response || fetchPromise;
        });
        }));
        });</code>
    <form class="codepen-button" action="https://codepen.io/mayeedwin/pen/eMOwry" method="POST" target="_blank"></form></pre>
        </div>

        <div class="mdl-tabs__panel is-active" id="tab6">
            <div class="code-with-text">
                
              <ul class="toc"> 
                  <a href="https://github.com/mayeedwin/pwafire/blob/master/pwafire-bundle/service-worker.js" target="_blank">Latest Commit</a>
                </ul>
          </div>

      </div>

    </div>
    
    </div>
  </section>
  <section id="web-manifest-config">
    <h3>Web Manifest // manifest.json config</h3>
    <div class="section-content">
      <p>
        Configure/edit the <b>background</b> and <b>theme colors</b>, <b>display type</b>, the <b>Web App short name ( call it aything you want)</b>, the Web App name, <b>icons size</b> (icons in the icons folder are already in the required sizes) and your <b>icon/logo</b> paths. We have to state the <b>img type</b> eg image/ico or image/png. This is already done for you. You could use your own icons or logos and update later after this codelab.
      </p>
      <p>
       Leave the <b>start url</b> as it is though this can be anything you want; the value weâ€™re using has the advantage of being meaningful to Google Analytics.
      </p>
      <div class="mdl-tabs mdl-js-tabs">
          <div class="mdl-tabs__tab-bar">
            <a href="#tab4" class="mdl-tabs__tab is-active">Description</a>
            <a href="#tab5" class="mdl-tabs__tab">View Code</a>
            <a href="#tab6" class="mdl-tabs__tab">On Github</a>
           
          </div>
  
          <div class="mdl-tabs__panel is-active" id="tab4">
              <div class="code-with-text">
                 
                      Configuring the <b>manifest.json</b> file helps you to specify how you want your web app to look like when launched on the device.
            </div>
        </div>
  
  
        <div class="mdl-tabs__panel" id="tab5">
            <div class="code-with-text">
                     Configure the <b>manfest.json</b> file as directed above in order to fit your web app needs.
              </div>
            <pre class="language-markup"><code>
          {
          "background_color": "#fff",
          "display": "standalone",
          "orientation":"portrait",
          "theme_color": "#fff",           
          "short_name": "PWA Fire",
          "name": "PWA Fire",
          "description": "description or purpose of your progressive web app",
          "lang": "en-US",
          "icons": [
          {
            "src": "images/icons/icon-72x72.png",
            "sizes": "72x72",
            "type": "image/png"
          },
          {
            "src": "images/icons/icon-96x96.png",
            "sizes": "96x96",
            "type": "image/png"
          },
          {
            "src": "images/icons/icon-128x128.png",
            "sizes": "128x128",
            "type": "image/png"
          },
          {
            "src": "images/icons/icon-144x144.png",
            "sizes": "144x144",
            "type": "image/png"
          },
          {
            "src": "images/icons/icon-152x152.png",
            "sizes": "152x152",
            "type": "image/png"
          },
          {
            "src": "images/icons/icon-192x192.png",
            "sizes": "192x192",
            "type": "image/png"
          },
          {
            "src": "images/icons/icon-384x384.png",
            "sizes": "384x384",
            "type": "image/png"
          },
          {
            "src": "images/icons/icon-512x512.png",
            "sizes": "512x512",
            "type": "image/png"
          }
          ],
          "start_url": "index.html?launcher=true",
          }</code>
      <form class="codepen-button" action="https://pwafire.org/developer/pwa" method="POST" target="_blank"></form></pre>
          </div>
  
          <div class="mdl-tabs__panel is-active" id="tab6">
              <div class="code-with-text">
                  
                <ul class="toc"> 
                    <a href="https://github.com/mayeedwin/pwafire/blob/master/pwafire-bundle/manifest.json" target="_blank">Latest Commit</a>
                  </ul>
            </div>
  
        </div>
      </div> <p>
        In the head tag, add theme color to all your pages as shown in the code below; You could use the same theme colour as in the <b>manfest.json</b> file.
      </p>
      <pre class="language-markup"><code>
        &lt;!-- theme-color -->
        &lt;meta name="theme-color" content="#fff" />
        &lt;!-- end-theme-color --></code></pre>
    </div>
  </section>

  <section id="firebase-hosting">
        <h3>Firebase Hosting</h3>
        <div class="section-content">
          <p>If you're new to <a href="https://firebase.google.com/" target="_blank">Firebase</a>, you'll need to create your account and install some tools first.</p>
          <p>1. Create a <b>Firebase account</b> at <a href="https://firebase.google.com/console/" target="_blank">https://firebase.google.com/console/</a>.  
              Once your account has been created and you've signed in, you're ready to deploy!</p>
          <P>2. Create a new Firebase app at <a href="https://firebase.google.com/console/" target="_blank">https://firebase.google.com/console/</a></p>
          <p>3. Install the <b>Firebase tools</b> via npm (run this in your command line).The Firebase Command Line Interface (CLI) will allow you to serve the web app locally and deploy.</p>
          <pre><code><span class="pln">npm </span><span class="pun">-</span><span class="pln">g install firebase</span><span class="pun">-</span><span class="pln">tools</span></code></pre>
          <p>4. To verify that the CLI has been installed correctly, open a console and run:</p>
          <pre><code><span class="pln">firebase </span><span class="pun">--</span><span class="pln">version</span></code></pre>
          <P>5. If you haven't recently signed in to the Firebase tools, update your credentials:</P>
          <pre><code><span class="pln">firebase login</span></code></pre>
          <p>6. Make sure you are in the <code>PWA Fire Profile</code> directory then Initialize your app to use Firebase. Select your Project ID and follow the instructions.</p>
          <p>When prompted, you can choose any Alias, such as <code>pwafire</code> for instance. Select <b>Firebase Hosting</b> as the Firebase CLI feature. Provide the default directory as <code>/</code>. To the other prompts, reply NO; <code>N</code></p>
          <pre><code><span class="pln">firebase </span><span class="kwd">init</span></code></pre>
          <p>8. Finally, deploy the app to Firebase:</p>
          <pre><code><span class="pln">firebase </span><span class="kwd">deploy</span></code></pre>
          <p>9. Celebrate. You're done! Your app will be deployed to the domain:</p>
          <pre><code><span class="pln">https://YOUR-FIREBASE-APP.firebaseapp.com</span></code></pre>
          <p>10. Visit your web app on your phone now. You should see an <b>"install to homescreen"</b> banner prompt! Welcome to <a href="https://www.linkedin.com/pulse/what-progressive-web-app-get-started-now-canaan-maye-edwin/" target="_blank">Canaan!</a> Further reading: <a href="https://firebase.google.com/console/" target="_blank">Firebase Hosting Guide.</a></p>      
          <p><img src="https://pwafire.org/developer/images/icons/aboutpwafire.gif" height="100px" alt="Mr. PWA Fire's Son Dance"> <img src="https://pwafire.org/developer/images/icons/aboutpwafire.gif" height="100px" alt="Mr. PWA Fire's Son Dance"></p>
        </div>
        <div class="download-button-container">
          <a href="https://pwafire-codelab.firebaseapp.com/" target="_blank">
            <button class="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect">Launch Demo App</button>
          </a>
        </div>    
      </section>

  <section id="whats-next">
    <h3>What's next?</h3>
    <div class="section-content">
      <p>
          Donate a <a class="github-button" href="https://github.com/mayeedwin/offline-js"> Star </a> like, follow and <a href="">contribute</a> in any way. Learn how to use 
          <b>firebase cloud firestore</b> in your realtime progressive web app <a href="../cloud-firestore-for-web/">in this codelab.</a>
      </p>
    </div>
  </section>

  <section id="license">
    <h3>License</h3>
    <div class="section-content">
      <p>
        Licensed under an <a href="https://github.com/mayeedwin/pwafire/blob/master/LICENSE">MIT license.</a>
      </p>
    </div>
  </section>
  
</div>

     </div>
      <section class="docs-text-styling download mdl-color--grey-800">
      <a href="https://github.com/mayeedwin/pwafire/fork" class="mdl-color-text--grey-50">FORK ON GITHUB</a>            
      </section>
     <footer class="docs-text-styling docs-footer mdl-mini-footer mdl-color--grey-900">
        <div class="section-content">
        <p>Built with love using Material Design Lite</p>
          </div>
      </footer>
    </main>
  </div>
    <!-- Material Design Lite -->
    <script src="https://pwafire.org/developer/pwa/material.min.js"></script>
    <!-- Enable Prism syntax highlighting -->
    <script src="https://pwafire.org/developer/pwa/assets/prism.js"></script>
    <script src="https://pwafire.org/developer/pwa/assets/prism-markup.min.js"></script>
    <script src="https://pwafire.org/developer/pwa/assets/prism-javascript.min.js"></script>
    <script src="https://pwafire.org/developer/pwa/assets/prism-css.min.js"></script>
    <script src="https://pwafire.org/developer/pwa/assets/prism-bash.min.js"></script>
    <script src="https://pwafire.org/developer/pwa/assets/main.js"></script>
  </body>
</html>
